<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.Blend?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.layout.HBox?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="esprit.tn.controllers.LoginContoller">

    <!-- Background Image -->
    <ImageView fx:id="backgroundImage" pickOnBounds="true" preserveRatio="true" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0">
        <image>
            <Image url="@Images/img_1.png" />
        </image>
    </ImageView>

    <!-- Right Panel -->
    <AnchorPane fx:id="rightPanel" style="-fx-background-color: #ffffff;" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.leftAnchor="300.0">
        <children>
            <!-- Title -->
            <VBox alignment="CENTER" spacing="10" AnchorPane.topAnchor="30.0" AnchorPane.leftAnchor="80.0" AnchorPane.rightAnchor="80.0">
                <children>
                    <Label text="SE CONNECTER" textFill="#0086B3">
                        <font>
                            <Font size="40.0"/>
                        </font>
                        <effect>
                            <Blend mode="OVERLAY" />
                        </effect>
                    </Label>
                    <Label text="Connectez-vous à votre profil" textFill="#615c5c">
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Label>
                </children>
            </VBox>

            <!-- Email Field -->
            <VBox alignment="CENTER_LEFT" spacing="10" AnchorPane.topAnchor="130.0" AnchorPane.leftAnchor="80.0" AnchorPane.rightAnchor="80.0">
                <children>
                    <Label text="Email:" textFill="#333333">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                    </Label>
                    <TextField fx:id="mail" prefHeight="40.0" prefWidth="440.0" promptText="Entrez votre email" style="-fx-background-radius: 5;" />
                </children>
            </VBox>

            <!-- Password Field -->
            <VBox alignment="CENTER_LEFT" spacing="10" AnchorPane.topAnchor="220.0" AnchorPane.leftAnchor="80.0" AnchorPane.rightAnchor="80.0">
                <children>
                    <Label text="Mot de passe:" textFill="#333333">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                    </Label>
                    <PasswordField fx:id="mdp" prefHeight="40.0" prefWidth="440.0" promptText="Entrez votre mot de passe" style="-fx-background-radius: 5;" />
                </children>
            </VBox>

            <!-- Login and Sign Up Buttons -->
            <HBox alignment="CENTER" spacing="20" AnchorPane.leftAnchor="80.0" AnchorPane.rightAnchor="80.0" AnchorPane.topAnchor="320.0">
                <children>
                    <!-- Se connecter Button -->
                    <Button fx:id="ConnectBtn" mnemonicParsing="false" onAction="#handleLogin" prefHeight="50.0" prefWidth="200.0" style="-fx-background-color: #0086B3; -fx-background-radius: 5;" text="Se connecter" textFill="WHITE">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Button>

                    <!-- S'inscrire Button -->
                    <Button fx:id="signupbtn1" mnemonicParsing="false" onAction="#handlesignup" prefHeight="50.0" prefWidth="200.0" style="-fx-background-color: #0086B3; -fx-background-radius: 5;" text="S'inscrire" textFill="WHITE">
                        <font>
                            <Font size="18.0" />
                        </font>
                    </Button>
                </children>
            </HBox>

            <!-- Forgot Password Link -->
            <HBox alignment="CENTER" spacing="5" AnchorPane.leftAnchor="80.0" AnchorPane.rightAnchor="80.0" AnchorPane.topAnchor="390.0">
                <children>
                    <Label text="Mot de passe oublié?" textFill="#615c5c">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </Label>
                    <Label fx:id="textid1" onMouseClicked="#forgotpassword" style="-fx-cursor: hand;" text="Cliquez ici" textFill="#325afa">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </Label>
                </children>
            </HBox>

            <!-- Social Login Buttons -->
            <VBox alignment="CENTER" spacing="20" AnchorPane.leftAnchor="80.0" AnchorPane.rightAnchor="80.0" AnchorPane.topAnchor="440.0">
                <children>
                    <Button fx:id="googleLoginBtn" mnemonicParsing="false" onAction="#handleGoogleLogin" prefHeight="50.0" prefWidth="440.0" style="-fx-background-color: #dd4b39; -fx-background-radius: 5; -fx-text-fill: white;" text="Se connecter avec Google">
                        <graphic>
                            <ImageView fitHeight="25.0" fitWidth="25.0" preserveRatio="true">
                                <image>
                                    <Image url="./icons/google.png" />
                                </image>
                            </ImageView>
                        </graphic>
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Button>

                    <Button fx:id="faceIdLoginBtn" mnemonicParsing="false" onAction="#handleFaceIdLogin" prefHeight="50.0" prefWidth="440.0" style="-fx-background-color: #4CAF50; -fx-background-radius: 5; -fx-text-fill: white;" text="Se connecter avec Face ID">
                        <graphic>
                            <ImageView fitHeight="25.0" fitWidth="25.0" preserveRatio="true">
                                <image>
                                    <Image url="./icons/face-scanner.png" />
                                </image>
                            </ImageView>
                        </graphic>
                        <font>
                            <Font size="16.0" />
                        </font>
                    </Button>
                </children>
            </VBox>
        </children>
    </AnchorPane>
</AnchorPane>